<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>


    <div class="container">


        <form>
          <label for="diningDollars">How many dining dollars are included in your meal plan?</label>
          <select id="diningDollars" name="diningDollars">
            <option value="250">$250</option>
            <option value="100">$100</option>
          </select>

          <br>
          <label for="meals"> How many meals have you purchased at Commons this semester? </label>
          <input id="meals" name="meals" type="number" step="1" value="0" min="0" max="27">

          <br>
          <input type="submit" id="submit" value="submit">
        </form>



        <h5>How many dining dollars do you have left? (Assuming a Commons meal cost $9)</h5>
        <div id="remaining"></div>
        <div id="unionOptions"></div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

    <script>

        // store a reference to the bananas input element
        var diningDollars = document.getElementById("diningDollars");
        var meals = document.getElementById("meals");
        var submitButton = document.getElementById("submit");
        var remaining = document.getElementById("remaining");
        var unionOptions = document.getElementById("unionOptions");

        // add an on load listener to the page
        window.onload = function() {

            // add an input event listener to bananas input
            document.addEventListener("submit", function(e) {
                // log
                console.log(diningDollars.value);
                // call the updatePage function
                // document.getElementById("diningDollarsValue").innerText = diningDollars.value;
                // document.getElementById("mealsValue").innerText = meals.value;
                let remaining_dollars = diningDollars.value - 9 * meals.value;
                document.getElementById("remaining").innerText = "You have $" + (remaining_dollars) + " dining dollars left.";

                // Uncrustable is $5, sushi is $6, chips are $3
                if(remaining_dollars >= 8) {
                  document.getElementById("unionOptions").innerText = "You can afford " + Math.floor(remaining_dollars / 11) + " orders of sushi or "
                                                                      + Math.floor(remaining_dollars / 5) + " uncrustables or " + Math.floor(remaining_dollars / 3) + " bags of chips!";
                } else if(remaining_dollars >= 5){
                  document.getElementById("unionOptions").innerText = "You can't afford sushi, but you can afford " + Math.floor(remaining_dollars / 5) + " uncrustables or "
                                                                        + Math.floor(remaining_dollars / 3) + " bags of chips!";
                } else if (remaining_dollars >= 3){
                  document.getElementById("unionOptions").innerText = "You can't afford sushi or an uncrustable, but you can afford " + Math.floor(remaining_dollars / 3) + " bags of chips!";
                } else {
                  document.getElementById("unionOptions").innerText = "You can't afford anything from Union."
                }

                e.preventDefault();
            });
        }

        // update visual stuff on the page
        function updatePage(){
            // store the vaalue of bananas (*3) inside the #bananasValue element
            document.getElementById("diningDollarsValue").innerText = diningDollars.value;
            document.getElementById("mealsValue").innerText = meals.value;


        }


    </script>

</body>

</html>
